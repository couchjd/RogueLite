#include "Map.h"

#include <cstring>
#include <iostream>
#include <ncurses.h>

char tile_map[MAP_HEIGHT][MAP_WIDTH] =
{
    "###############################################################################",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "#.............................................................................#",
    "###############################################################################"
};

Map::Map()
{
}

Map::~Map()
{

}

void Map::init()
{
    for(int y = 0; y < MAP_HEIGHT; ++y)
    {
        for(int x = 0; x < MAP_WIDTH; ++x)
        {
            m_tiles[y][x] = new Tile(tile_map[y][x]);
        }
    }
}

void Map::draw()
{
    for(int y = 0; y < MAP_HEIGHT; ++y)
    {
        for(int x = 0; x < MAP_WIDTH; ++x)
        {
            printw("%c", *m_tiles[y][x]->getCharacter());
        }
        printw("\n");
    }
}

Tile* Map::getTile(int y, int x)
{
    return m_tiles[y][x];
}
